rule "0 Time Printed String"
when
    Item OctoprintJobPrintTime changed
then
    val seconds = (OctoprintJobPrintTime.state as DecimalType).intValue
    val int totalMinutes = seconds / 60
    val int remainderSecs = seconds % 60
    val int totalHours = totalMinutes / 60
    val int remainderMins = totalMinutes % 60
    val formattedTime = String :: format("%02d", totalHours) + ":" + String :: format("%02d", remainderMins) + ":" + String ::
      format("%02d", remainderSecs)
    OctoprintJobPrintTimeString.postUpdate(formattedTime)

end

rule "1 Time Left String"
when
    Item OctoprintJobPrintTimeLeft changed
then
    val seconds = (OctoprintJobPrintTimeLeft.state as DecimalType).intValue
    val int totalMinutes = seconds / 60
    val int remainderSecs = seconds % 60
    val int totalHours = totalMinutes / 60
    val int remainderMins = totalMinutes % 60
    val formattedTime = String :: format("%02d", totalHours) + ":" + String :: format("%02d", remainderMins) + ":" + String ::
      format("%02d", remainderSecs)
    OctoprintJobPrintTimeLeftString.postUpdate(formattedTime)
    val DateTime OctoprintETA = now.plusSeconds(seconds)
    OctoprintJobPrintTimeString.postUpdate(OctoprintETA.toString)
    OctoprintJobPrintETADateTime.postUpdate(new DateTimeType (OctoprintETA.toString))

end