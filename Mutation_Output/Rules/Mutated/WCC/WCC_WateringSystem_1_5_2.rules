rule "2 Rain_sensor_rain_activated"
when
    Item RainSensor changed from CLOSEDto OPENor
    ItemRainSensorchangedfrom NULLto OPEN
then
    logInfo("FILE", "Rain_sensor_rain_detected: Rain detected, stopping watering if running")
    logInfo("Rain sensor is wet")
    Notification_Proxy_Wtr.sendCommand("STOP")

end

rule "6 Watering_manual_start/stop"
when
    Item WtrStartBtn changed from OPENto CLOSEDor
    ItemWtrStartBtnchangedfrom NULLto CLOSED
then
    if(isWatering==false)
        {
            logInfo("FILE", "Watering_manual_start/stop: Start watering, manual activation")
            logInfo("User pressed button START watering")
            Notification_Proxy_Wtr.sendCommand("START")
        }
    else {
        logInfo("FILE", "Watering_manual_start/stop: Stoping  watering, manual activation")
        logInfo("User pressed button STOP watering")
        if (Notification_Proxy_Wtr.state == "STOP")
            Notification_Proxy_Wtr.sendCommand("STOP")
    }

end