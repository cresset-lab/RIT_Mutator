rule "6 Watering_manual_start/stop"
when
    Item WtrStartBtn changed from OPEN to CLOSED or
    Item WtrStartBtn changed from NULL to CLOSED
then
    if (isWatering == false)
        {
            logInfo("FILE", "Watering_manual_start/stop: Start watering, manual activation")
            logInfo("User pressed button START watering")
            Notification_Proxy_Wtr.sendCommand("START")
        }
    else {
        logInfo("FILE", "Watering_manual_start/stop: Stoping  watering, manual activation")
        logInfo("User pressed button STOP watering")
        Notification_Proxy_Wtr.sendCommand("STOP")
    }

end

rule "2 Rain_sensor_rain_activated"
when
    Item Notification_Proxy_Wtr changed or
    Item RainSensor changed from NULL to OPEN
then
    logInfo("FILE", "Rain_sensor_rain_detected: Rain detected, stopping watering if running")
    logInfo("Rain sensor is wet")
    Notification_Proxy_Wtr.sendCommand("STOP")

end